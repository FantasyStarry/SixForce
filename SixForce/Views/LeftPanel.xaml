<UserControl x:Class="SixForce.Views.LeftPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="220">
    
    <UserControl.Resources>
        <Style x:Key="FormLabel" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#718096"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>
    </UserControl.Resources>
    
    <Grid Margin="4">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 串口选择 -->
        <StackPanel Grid.Row="0" Margin="0,0,0,12">
            <TextBlock Text="串口" Style="{StaticResource FormLabel}"/>
            <ComboBox Height="32"
                      ItemsSource="{Binding SerialPorts}"
                      SelectedItem="{Binding SelectedSerialPort}"/>
        </StackPanel>

        <!-- 波特率 -->
        <StackPanel Grid.Row="1" Margin="0,0,0,12">
            <TextBlock Text="波特率" Style="{StaticResource FormLabel}"/>
            <ComboBox Height="32"
                      ItemsSource="{Binding BaudRates}"
                      SelectedItem="{Binding SelectedBaudRate}"/>
        </StackPanel>

        <!-- 机码 -->
        <StackPanel Grid.Row="2" Margin="0,0,0,12">
            <TextBlock Text="机码" Style="{StaticResource FormLabel}"/>
            <TextBox Height="32"
                     TextAlignment="Center"
                     VerticalContentAlignment="Center"
                     Text="{Binding MachineCode}"/>
        </StackPanel>

        <!-- 产品编号 -->
        <StackPanel Grid.Row="3" Margin="0,0,0,12">
            <TextBlock Text="产品编号" Style="{StaticResource FormLabel}"/>
            <TextBox Height="32"
                     TextAlignment="Center"
                     VerticalContentAlignment="Center"
                     Text="{Binding ProductId}"/>
        </StackPanel>

        <!-- 标定通道 -->
        <StackPanel Grid.Row="4" Margin="0,0,0,12">
            <TextBlock Text="标定通道" Style="{StaticResource FormLabel}"/>
            <ComboBox Height="32"
                      ItemsSource="{Binding Channels}"
                      SelectedItem="{Binding SelectedChannel}"/>
        </StackPanel>

        <!-- 连接状态 -->
        <Border Grid.Row="5" 
                Background="#F7FAFC" 
                CornerRadius="6" 
                Padding="10,8"
                Margin="0,0,0,12">
            <StackPanel Orientation="Horizontal">
                <Ellipse Width="8" Height="8" Fill="#A0AEC0" VerticalAlignment="Center"/>
                <TextBlock Text="{Binding IsConnected, StringFormat=连接状态: {0}}"
                           FontSize="12" 
                           Foreground="#718096"
                           VerticalAlignment="Center"
                           Margin="8,0,0,0"/>
            </StackPanel>
        </Border>

        <!-- 占位 -->
        <Grid Grid.Row="6"/>

        <!-- 操作按钮 -->
        <StackPanel Grid.Row="7">
            <Button Content="连接串口" 
                    Height="36"
                    Style="{StaticResource SuccessButton}"
                    Command="{Binding ConnectCommand}"
                    IsEnabled="{Binding CanConnect}"
                    Margin="0,0,0,8">
                <Button.ToolTip>
                    <ToolTip>
                        <TextBlock Text="点击连接串口并开始读取数据"/>
                    </ToolTip>
                </Button.ToolTip>
            </Button>
            <Button Content="断开连接" 
                    Height="36"
                    Style="{StaticResource DangerButton}"
                    Command="{Binding DisconnectCommand}"
                    IsEnabled="{Binding CanDisconnect}"/>
        </StackPanel>
    </Grid>
</UserControl>